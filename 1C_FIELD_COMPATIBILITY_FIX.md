# 1С Виправлення сумісності полів

## Проблема
```
11.07.2025 19:22:28 - ОШИБКА запроса к базе: Поле не знайдено "СчетаНаОплатуПокупателю.Оплачен"
```

## Корінь проблеми
В різних версіях 1С поля документів можуть мати різні назви або взагалі не існувати.

## ✅ ВИПРАВЛЕННЯ

### Замість неіснуючих полів:
```1c
// ❌ НЕ ПРАЦЮЄ - полів не існує
СчетаНаОплатуПокупателю.Оплачен = ИСТИНА  
СчетаНаОплатуПокупателю.ЧастичноОплачен = ИСТИНА

// ✅ ПРАЦЮЄ - використовуємо статус проведення
СчетаНаОплатуПокупателю.Проведен = ИСТИНА
```

### Оновлений запрос для вихідних рахунків:
```1c
"ВЫБРАТЬ ПЕРВЫЕ " + Лимит + "
|    СчетаНаОплатуПокупателю.Номер КАК НомерСчета,
|    СчетаНаОплатуПокупателю.Дата КАК ДатаСчета,
|    СчетаНаОплатуПокупателю.Контрагент.Наименование КАК НаименованиеКонтрагента,
|    СчетаНаОплатуПокупателю.СуммаДокумента КАК СуммаДокумента,
|    СчетаНаОплатуПокупателю.ВалютаДокумента.Код КАК КодВалюты,
|    СчетаНаОплатуПокупателю.Комментарий КАК Комментарий,
|    ВЫБОР
|        КОГДА СчетаНаОплатуПокупателю.Проведен = ИСТИНА ТОГДА "posted"
|        ИНАЧЕ "draft"
|    КОНЕЦ КАК СтатусДокумента
|ИЗ
|    Документ.СчетНаОплатуПокупателю КАК СчетаНаОплатуПокупателю
```

### Відповідні зміни в структурі:
```1c
// ❌ Старе поле
СчетСтруктура.Вставить("paymentStatus", СокрЛП(Выборка.СтатусОплаты));

// ✅ Нове поле
СчетСтруктура.Вставить("status", СокрЛП(Выборка.СтатусДокумента));
```

## Результат
Тепер код буде працювати з будь-якою версією 1С, використовуючи тільки стандартні поля документів.

Дата: 2025-07-11 19:35