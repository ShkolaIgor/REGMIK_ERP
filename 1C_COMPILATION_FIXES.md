# 1–° –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –ü–æ–º–∏–ª–æ–∫ –ö–æ–º–ø—ñ–ª—è—Ü—ñ—ó WebhookIntegration

## –û–≥–ª—è–¥ –ø–æ–º–∏–ª–æ–∫

–í–∞—à—ñ –ø–æ–º–∏–ª–∫–∏:
1. **–î—É–±–ª—ñ–∫–∞—Ç —Ñ—É–Ω–∫—Ü—ñ—ó**: `–ó–∞–ø–∏—Å–∞—Ç—åJSON` –≤–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–≤—ñ—á—ñ
2. **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–∫–ª–∏–∫**: –í–∏–∫–ª–∏–∫ –ø—Ä–æ—Ü–µ–¥—É—Ä–∏ —è–∫ —Ñ—É–Ω–∫—Ü—ñ—ó

## ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–ò–ô –ö–û–î

–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ü–µ–π –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–æ–¥ –¥–ª—è –º–æ–¥—É–ª—è `WebhookIntegration`:

```1c
// ==============================================
// –ú–û–î–£–õ–¨: WebhookIntegration (–ó–∞–≥–∞–ª—å–Ω–∏–π –º–æ–¥—É–ª—å)
// ==============================================

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ webhook'–∞
–§—É–Ω–∫—Ü–∏—è –û—Ç–ø—Ä–∞–≤–∏—Ç—åWebhook(URL, –î–∞–Ω–Ω—ã–µ)
    –ü–æ–ø—ã—Ç–∫–∞
        HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ = –ù–æ–≤—ã–π HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ("your-erp-domain.com", 443,,,, 30, –ù–æ–≤—ã–π –ó–∞—â–∏—â–µ–Ω–Ω–æ–µ–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µOpenSSL);
        –ó–∞–ø—Ä–æ—Å = –ù–æ–≤—ã–π HTTP–ó–∞–ø—Ä–æ—Å(URL);
        –ó–∞–ø—Ä–æ—Å.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–¢–µ–ª–æ–ò–∑–°—Ç—Ä–æ–∫–∏(–î–∞–Ω–Ω—ã–µ, –ö–æ–¥–∏—Ä–æ–≤–∫–∞–¢–µ–∫—Å—Ç–∞.UTF8);
        –ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("Content-Type", "application/json");
        –ó–∞–ø—Ä–æ—Å.–ó–∞–≥–æ–ª–æ–≤–∫–∏.–í—Å—Ç–∞–≤–∏—Ç—å("User-Agent", "1C-Enterprise/8.3");
        
        –û—Ç–≤–µ—Ç = HTTP–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.–û—Ç–ø—Ä–∞–≤–∏—Ç—å–î–ª—è–û–±—Ä–∞–±–æ—Ç–∫–∏(–ó–∞–ø—Ä–æ—Å);
        
        –ï—Å–ª–∏ –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è = 200 –¢–æ–≥–¥–∞
            –í–æ–∑–≤—Ä–∞—Ç –ò—Å—Ç–∏–Ω–∞;
        –ò–Ω–∞—á–µ
            –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞ webhook: " + –û—Ç–≤–µ—Ç.–ö–æ–¥–°–æ—Å—Ç–æ—è–Ω–∏—è + " - " + –û—Ç–≤–µ—Ç.–ü–æ–ª—É—á–∏—Ç—å–¢–µ–ª–æ–ö–∞–∫–°—Ç—Ä–æ–∫—É());
            –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
        –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ò—Å–∫–ª—é—á–µ–Ω–∏–µ webhook: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –§—É–Ω–∫—Ü–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
–§—É–Ω–∫—Ü–∏—è –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥(–°–æ–æ–±—â–µ–Ω–∏–µ)
    –ü–æ–ø—ã—Ç–∫–∞
        –§–∞–π–ª = –ù–æ–≤—ã–π –ó–∞–ø–∏—Å—å–¢–µ–∫—Å—Ç–∞("c:\temp\webhook_log.txt", –ö–æ–¥–∏—Ä–æ–≤–∫–∞–¢–µ–∫—Å—Ç–∞.UTF8,, –ò—Å—Ç–∏–Ω–∞);
        –§–∞–π–ª.–ó–∞–ø–∏—Å–∞—Ç—å–°—Ç—Ä–æ–∫—É(–¢–µ–∫—É—â–∞—è–î–∞—Ç–∞() + ": " + –°–æ–æ–±—â–µ–Ω–∏–µ);
        –§–∞–π–ª.–ó–∞–∫—Ä—ã—Ç—å();
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        // –ò–≥–Ω–æ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è JSON (–±–µ–∑ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è)
–§—É–Ω–∫—Ü–∏—è –°–æ–∑–¥–∞—Ç—åJSON(–î–∞–Ω–Ω—ã–µ)
    –ü–æ–ø—ã—Ç–∫–∞
        // –î–ª—è 1–° 8.3.15 –∏ –Ω–æ–≤–µ–µ
        –ó–∞–ø–∏—Å—åJSON = –ù–æ–≤—ã–π –ó–∞–ø–∏—Å—åJSON;
        –ó–∞–ø–∏—Å—åJSON.–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å–°—Ç—Ä–æ–∫—É();
        –ó–∞–ø–∏—Å–∞—Ç—åJSON(–ó–∞–ø–∏—Å—åJSON, –î–∞–Ω–Ω—ã–µ);
        –í–æ–∑–≤—Ä–∞—Ç –ó–∞–ø–∏—Å—åJSON.–ó–∞–∫—Ä—ã—Ç—å();
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        // –î–ª—è –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã—Ö –≤–µ—Ä—Å–∏–π 1–°
        –ü–æ–ø—ã—Ç–∫–∞
            –í–æ–∑–≤—Ä–∞—Ç –û–±—â–µ–≥–æ–ù–∞–∑–Ω–∞—á–µ–Ω–∏—è.–û–±—ä–µ–∫—Ç–í–°—Ç—Ä–æ–∫—ÉJSON(–î–∞–Ω–Ω—ã–µ);
        –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
            –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è JSON: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
            –í–æ–∑–≤—Ä–∞—Ç "";
        –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–∞
–§—É–Ω–∫—Ü–∏—è –û—Ç–ø—Ä–∞–≤–∏—Ç—å–î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞(–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç, –î–µ–π—Å—Ç–≤–∏–µ)
    –î–∞–Ω–Ω—ã–µ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("action", –î–µ–π—Å—Ç–≤–∏–µ);
    
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–¥", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ö–æ–¥);
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ò–ù–ù", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ò–ù–ù);
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–¢–µ–ª–µ—Ñ–æ–Ω", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–¢–µ–ª–µ—Ñ–æ–Ω);
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("Email", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.Email);
    –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞.–í—Å—Ç–∞–≤–∏—Ç—å("–ê–¥—Ä–µ—Å", –ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–Æ—Ä–∏–¥–∏—á–µ—Å–∫–∏–π–ê–¥—Ä–µ—Å);
    
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("clientData", –î–∞–Ω–Ω—ã–µ–ö–ª–∏–µ–Ω—Ç–∞);
    
    // ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –°–æ–∑–¥–∞—Ç—åJSON –≤–º–µ—Å—Ç–æ –ó–∞–ø–∏—Å–∞—Ç—åJSON
    JSON–°—Ç—Ä–æ–∫–∞ = "";
    –ü–æ–ø—ã—Ç–∫–∞
        JSON–°—Ç—Ä–æ–∫–∞ = –°–æ–∑–¥–∞—Ç—åJSON(–î–∞–Ω–Ω—ã–µ);
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞ JSON –∫–ª–∏–µ–Ω—Ç–∞: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –ï—Å–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(JSON–°—Ç—Ä–æ–∫–∞) –¢–æ–≥–¥–∞
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ü—É—Å—Ç–æ–π JSON –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞");
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç –û—Ç–ø—Ä–∞–≤–∏—Ç—åWebhook("/api/webhook/1c/clients", JSON–°—Ç—Ä–æ–∫–∞);
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞–∫–ª–∞–¥–Ω–æ–π
–§—É–Ω–∫—Ü–∏—è –û—Ç–ø—Ä–∞–≤–∏—Ç—å–î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π(–ù–∞–∫–ª–∞–¥–Ω–∞—è, –î–µ–π—Å—Ç–≤–∏–µ)
    –î–∞–Ω–Ω—ã–µ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("action", –î–µ–π—Å—Ç–≤–∏–µ);
    
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–°—Å—ã–ª–∫–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –°—Ç—Ä–æ–∫–∞(–ù–∞–∫–ª–∞–¥–Ω–∞—è.–°—Å—ã–ª–∫–∞));
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–æ–º–µ—Ä–î–æ–∫—É–º–µ–Ω—Ç–∞", –ù–∞–∫–ª–∞–¥–Ω–∞—è.–ù–æ–º–µ—Ä);
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–î–∞—Ç–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –ù–∞–∫–ª–∞–¥–Ω–∞—è.–î–∞—Ç–∞);
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–ü–æ—Å—Ç–∞—á–∞–ª—å–Ω–∏–∫", –ù–∞–∫–ª–∞–¥–Ω–∞—è.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–°—É–º–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –ù–∞–∫–ª–∞–¥–Ω–∞—è.–°—É–º–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞);
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–¥–í–∞–ª—é—Ç—ã", –ù–∞–∫–ª–∞–¥–Ω–∞—è.–í–∞–ª—é—Ç–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.–ö–æ–¥);
    
    // –ü–æ–∑–∏—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
    –ü–æ–∑–∏—Ü–∏–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –î–ª—è –ö–∞–∂–¥–æ–≥–æ –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞ –ò–∑ –ù–∞–∫–ª–∞–¥–Ω–∞—è.–¢–æ–≤–∞—Ä—ã –¶–∏–∫–ª
        –ü–æ–∑–∏—Ü–∏—è = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–¢–æ–≤–∞—Ä–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–¥–¢–æ–≤–∞—Ä–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ö–æ–¥);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–¶–µ–Ω–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–¶–µ–Ω–∞);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–°—É–º–º–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–°—É–º–º–∞);
        –ü–æ–∑–∏—Ü–∏–∏.–î–æ–±–∞–≤–∏—Ç—å(–ü–æ–∑–∏—Ü–∏—è);
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
    –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π.–í—Å—Ç–∞–≤–∏—Ç—å("positions", –ü–æ–∑–∏—Ü–∏–∏);
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("invoiceData", –î–∞–Ω–Ω—ã–µ–ù–∞–∫–ª–∞–¥–Ω–æ–π);
    
    // ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –°–æ–∑–¥–∞—Ç—åJSON –≤–º–µ—Å—Ç–æ –ó–∞–ø–∏—Å–∞—Ç—åJSON
    JSON–°—Ç—Ä–æ–∫–∞ = "";
    –ü–æ–ø—ã—Ç–∫–∞
        JSON–°—Ç—Ä–æ–∫–∞ = –°–æ–∑–¥–∞—Ç—åJSON(–î–∞–Ω–Ω—ã–µ);
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞ JSON –Ω–∞–∫–ª–∞–¥–Ω–æ–π: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –ï—Å–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(JSON–°—Ç—Ä–æ–∫–∞) –¢–æ–≥–¥–∞
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ü—É—Å—Ç–æ–π JSON –¥–ª—è –Ω–∞–∫–ª–∞–¥–Ω–æ–π");
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç –û—Ç–ø—Ä–∞–≤–∏—Ç—åWebhook("/api/webhook/1c/invoices", JSON–°—Ç—Ä–æ–∫–∞);
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É
–§—É–Ω–∫—Ü–∏—è –û—Ç–ø—Ä–∞–≤–∏—Ç—å–î–∞–Ω–Ω—ã–µ–í–∏—Ö—ñ–¥–Ω–æ–≥–æ–†–∞—Ö—É–Ω–∫—É(–†–∞—Ö—É–Ω–æ–∫, –î–µ–π—Å—Ç–≤–∏–µ)
    –î–∞–Ω–Ω—ã–µ = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("action", –î–µ–π—Å—Ç–≤–∏–µ);
    
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–°—Å—ã–ª–∫–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –°—Ç—Ä–æ–∫–∞(–†–∞—Ö—É–Ω–æ–∫.–°—Å—ã–ª–∫–∞));
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–æ–º–µ—Ä–î–æ–∫—É–º–µ–Ω—Ç–∞", –†–∞—Ö—É–Ω–æ–∫.–ù–æ–º–µ—Ä);
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–î–∞—Ç–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –†–∞—Ö—É–Ω–æ–∫.–î–∞—Ç–∞);
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–ª–∏–µ–Ω—Ç", –†–∞—Ö—É–Ω–æ–∫.–ö–æ–Ω—Ç—Ä–∞–≥–µ–Ω—Ç.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–°—É–º–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞", –†–∞—Ö—É–Ω–æ–∫.–°—É–º–º–∞–î–æ–∫—É–º–µ–Ω—Ç–∞);
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–¥–í–∞–ª—é—Ç—ã", –†–∞—Ö—É–Ω–æ–∫.–í–∞–ª—é—Ç–∞–î–æ–∫—É–º–µ–Ω—Ç–∞.–ö–æ–¥);
    
    // –ü–æ–∑–∏—Ü–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤
    –ü–æ–∑–∏—Ü–∏–∏ = –ù–æ–≤—ã–π –ú–∞—Å—Å–∏–≤;
    –î–ª—è –ö–∞–∂–¥–æ–≥–æ –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞ –ò–∑ –†–∞—Ö—É–Ω–æ–∫.–¢–æ–≤–∞—Ä—ã –¶–∏–∫–ª
        –ü–æ–∑–∏—Ü–∏—è = –ù–æ–≤—ã–π –°—Ç—Ä—É–∫—Ç—É—Ä–∞;
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ–¢–æ–≤–∞—Ä–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–¥–¢–æ–≤–∞—Ä–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ù–æ–º–µ–Ω–∫–ª–∞—Ç—É—Ä–∞.–ö–æ–¥);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–¶–µ–Ω–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–¶–µ–Ω–∞);
        –ü–æ–∑–∏—Ü–∏—è.–í—Å—Ç–∞–≤–∏—Ç—å("–°—É–º–º–∞", –°—Ç—Ä–æ–∫–∞–¢–æ–≤–∞—Ä–∞.–°—É–º–º–∞);
        –ü–æ–∑–∏—Ü–∏–∏.–î–æ–±–∞–≤–∏—Ç—å(–ü–æ–∑–∏—Ü–∏—è);
    –ö–æ–Ω–µ—Ü–¶–∏–∫–ª–∞;
    
    –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É.–í—Å—Ç–∞–≤–∏—Ç—å("positions", –ü–æ–∑–∏—Ü–∏–∏);
    –î–∞–Ω–Ω—ã–µ.–í—Å—Ç–∞–≤–∏—Ç—å("invoiceData", –î–∞–Ω–Ω—ã–µ–†–∞—Ö—É–Ω–∫—É);
    
    // ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –ò—Å–ø–æ–ª—å–∑—É–µ–º –°–æ–∑–¥–∞—Ç—åJSON –≤–º–µ—Å—Ç–æ –ó–∞–ø–∏—Å–∞—Ç—åJSON
    JSON–°—Ç—Ä–æ–∫–∞ = "";
    –ü–æ–ø—ã—Ç–∫–∞
        JSON–°—Ç—Ä–æ–∫–∞ = –°–æ–∑–¥–∞—Ç—åJSON(–î–∞–Ω–Ω—ã–µ);
    –ò—Å–∫–ª—é—á–µ–Ω–∏–µ
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–û—à–∏–±–∫–∞ JSON –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É: " + –û–ø–∏—Å–∞–Ω–∏–µ–û—à–∏–±–∫–∏());
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ü–æ–ø—ã—Ç–∫–∏;
    
    –ï—Å–ª–∏ –ü—É—Å—Ç–∞—è–°—Ç—Ä–æ–∫–∞(JSON–°—Ç—Ä–æ–∫–∞) –¢–æ–≥–¥–∞
        –ó–∞–ø–∏—Å–∞—Ç—å–õ–æ–≥("–ü—É—Å—Ç–æ–π JSON –¥–ª—è –≤–∏—Ö—ñ–¥–Ω–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É");
        –í–æ–∑–≤—Ä–∞—Ç –õ–æ–∂—å;
    –ö–æ–Ω–µ—Ü–ï—Å–ª–∏;
    
    –í–æ–∑–≤—Ä–∞—Ç –û—Ç–ø—Ä–∞–≤–∏—Ç—åWebhook("/api/webhook/1c/outgoing-invoices", JSON–°—Ç—Ä–æ–∫–∞);
–ö–æ–Ω–µ—Ü–§—É–Ω–∫—Ü–∏–∏
```

## üîß –ö—Ä–æ–∫–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### 1. –í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–∞—Ä–∏–π –º–æ–¥—É–ª—å
1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ 1–° –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ç–æ—Ä
2. –ó–Ω–∞–π–¥—ñ—Ç—å –º–æ–¥—É–ª—å `WebhookIntegration`
3. –í–∏–¥–∞–ª—ñ—Ç—å –π–æ–≥–æ –ø–æ–≤–Ω—ñ—Å—Ç—é

### 2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å
1. –ü—Ä–∞–≤–∏–π –∫–ª—ñ–∫ –Ω–∞ "–û–±—â–∏–µ –º–æ–¥—É–ª–∏"
2. "–°–æ–∑–¥–∞—Ç—å" ‚Üí "–û–±—â–∏–π –º–æ–¥—É–ª—å"
3. –ù–∞–∑–≤–∞: `WebhookIntegration`
4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ñ–ª–∞–∂–∫–∏:
   - ‚úÖ –°–µ—Ä–≤–µ—Ä
   - ‚úÖ –í–Ω–µ—à–Ω–µ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
   - ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π —Ä–µ–∂–∏–º

### 3. –í—Å—Ç–∞–≤—Ç–µ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–∏–π –∫–æ–¥
–°–∫–æ–ø—ñ—é–π—Ç–µ –ø–æ–≤–Ω–∏–π –∫–æ–¥ –∑ —Ü—å–æ–≥–æ —Ñ–∞–π–ª—É –≤ –Ω–æ–≤–∏–π –º–æ–¥—É–ª—å.

### 4. –ó–∞–º—ñ–Ω—ñ—Ç—å URL
–ó–∞–º—ñ–Ω—ñ—Ç—å `your-erp-domain.com` –Ω–∞ —Ä–µ–∞–ª—å–Ω–∏–π –¥–æ–º–µ–Ω –≤–∞—à–æ—ó ERP —Å–∏—Å—Ç–µ–º–∏.

### 5. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –∫–æ–º–ø—ñ–ª—è—Ü—ñ—é
1. Ctrl+F7 –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è —â–æ –Ω–µ–º–∞—î –ø–æ–º–∏–ª–æ–∫
3. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –º–æ–¥—É–ª—å

## ‚úÖ –©–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ

1. **–î—É–±–ª—ñ–∫–∞—Ç —Ñ—É–Ω–∫—Ü—ñ—ó**: –ó–∞–º—ñ–Ω–µ–Ω–æ `–ó–∞–ø–∏—Å–∞—Ç—åJSON` –Ω–∞ `–°–æ–∑–¥–∞—Ç—åJSON`
2. **–í–∏–∫–ª–∏–∫–∏ —Ñ—É–Ω–∫—Ü—ñ—ó**: –í—Å—ñ –≤–∏–∫–ª–∏–∫–∏ —Ç–µ–ø–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å `–°–æ–∑–¥–∞—Ç—åJSON(–î–∞–Ω–Ω—ã–µ)`
3. **–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ JSON**: –î–æ–¥–∞–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç–∏–π JSON
4. **–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω—å**: –î–æ–¥–∞–Ω–æ `–°—Ç—Ä–æ–∫–∞()` –¥–ª—è –ø–æ—Å–∏–ª–∞–Ω—å –¥–æ–∫—É–º–µ–Ω—Ç—ñ–≤
5. **–û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫**: –ü–æ–∫—Ä–∞—â–µ–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫ JSON

## üìù –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏

–ü—ñ—Å–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –º–æ–¥—É–ª—è –ø–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è:
- ‚úÖ –ú–æ–¥—É–ª—å –∫–æ–º–ø—ñ–ª—é—î—Ç—å—Å—è –±–µ–∑ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –í—Å—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –º–∞—é—Ç—å —Ä—ñ–∑–Ω—ñ –Ω–∞–∑–≤–∏  
- ‚úÖ –õ–æ–≥—É–≤–∞–Ω–Ω—è –ø—Ä–∞—Ü—é—î (–ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ c:\temp\webhook_log.txt)
- ‚úÖ HTTP-–∑'—î–¥–Ω–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø–Ω–µ

## üöÄ –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏

–ü—ñ—Å–ª—è —É—Å–ø—ñ—à–Ω–æ—ó –∫–æ–º–ø—ñ–ª—è—Ü—ñ—ó –º–æ–¥—É–ª—è –¥–æ–¥–∞–π—Ç–µ –æ–±—Ä–æ–±–Ω–∏–∫–∏ –ø–æ–¥—ñ–π —É –¥–æ–∫—É–º–µ–Ω—Ç–∏ –∑–≥—ñ–¥–Ω–æ –∑ –æ—Å–Ω–æ–≤–Ω–æ—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—î—é.