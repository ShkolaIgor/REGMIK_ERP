// –ü—Ä–æ—Å—Ç–∏–π —Ç–µ—Å—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ñ—ñ–ª—å—Ç—Ä—É 6 –º—ñ—Å—è—Ü—ñ–≤

const testBankPaymentOld = async () => {
  try {
    // –¢–µ—Å—Ç–æ–≤–µ –±–∞–Ω–∫—ñ–≤—Å—å–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –Ω–æ–º–µ—Ä–æ–º 999999 (2013 —Ä—ñ–∫)
    const bankEmailContent = `
    –û–ø–µ—Ä–∞—Ü—ñ—è: –∑–∞—Ä–∞—Ö–æ–≤–∞–Ω–æ
    –°—É–º–∞: 12345.67 –≥—Ä–Ω
    –ö–æ—Ä–µ—Å–ø–æ–Ω–¥–µ–Ω—Ç: –¢–µ—Å—Ç–ö–æ–º–ø–∞–Ω—ñ—è –¢–û–í
    –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è –ø–ª–∞—Ç–µ–∂—É: –û–ø–ª–∞—Ç–∞ –∑–∞ —Ç–æ–≤–∞—Ä –∑–≥—ñ–¥–Ω–æ —Ä–∞—Ö. ‚Ññ 999999 –≤—ñ–¥ 15 —Å—ñ—á–Ω—è 2013 —Ä.
    –î–∞—Ç–∞: 15 —Å—ñ—á–Ω—è 2013 —Ä.
    `;
    
    console.log('üß™ –¢–µ—Å—Ç—É—î–º–æ –±–∞–Ω–∫—ñ–≤—Å—å–∫–∏–π –ø–ª–∞—Ç—ñ–∂ –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É 2013 —Ä–æ–∫—É...');
    
    const response = await fetch('http://localhost:5000/api/test-bank-payment-processing', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        emailContent: bankEmailContent
      })
    });
    
    if (!response.ok) {
      throw new Error(`HTTP ${response.status}: ${response.statusText}`);
    }
    
    const result = await response.json();
    console.log('üß™ –†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–æ–±–∫–∏ —Å—Ç–∞—Ä–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É:', JSON.stringify(result, null, 2));
    
    // –ü–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ —á–∏ —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–ª–∞ —Å—Ç–∞—Ä–∏–π —Ä–∞—Ö—É–Ω–æ–∫
    if (result.success === false) {
      if (result.message.includes('—Å—Ç–∞—Ä—à–µ 6 –º—ñ—Å—è—Ü—ñ–≤') || 
          result.message.includes('–Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è') ||
          result.analysisResult?.paymentInfo?.invoiceNumber === '–†–ú00-999999') {
        console.log('‚úÖ –£–°–ü–Ü–•: –°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–ª–∞ —Å—Ç–∞—Ä–∏–π —Ä–∞—Ö—É–Ω–æ–∫ 2013 —Ä–æ–∫—É');
        console.log('   –ü–ª–∞—Ç—ñ–∂ –ù–ï –±—É–≤ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è —Å—Ç–∞—Ä–æ–≥–æ —Ä–∞—Ö—É–Ω–∫—É');
      } else {
        console.log('‚ö†Ô∏è  –£–í–ê–ì–ê: –ü–ª–∞—Ç—ñ–∂ –Ω–µ –æ–±—Ä–æ–±–ª–µ–Ω–æ, –∞–ª–µ –ø—Ä–∏—á–∏–Ω–∞ –º–æ–∂–µ –±—É—Ç–∏ —ñ–Ω—à–∞');
      }
    } else {
      console.log('‚ùå –ü–†–û–ë–õ–ï–ú–ê: –°–∏—Å—Ç–µ–º–∞ –ù–ï –≤—ñ–¥—Ñ—ñ–ª—å—Ç—Ä—É–≤–∞–ª–∞ —Å—Ç–∞—Ä–∏–π —Ä–∞—Ö—É–Ω–æ–∫ –∞–±–æ –ø–æ–º–∏–ª–∫–∞ –≤ –ª–æ–≥—ñ—Ü—ñ');
      console.log('   –ü–ª–∞—Ç—ñ–∂ –±—É–≤ –æ–±—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è —Ä–∞—Ö—É–Ω–∫—É —Å—Ç–∞—Ä—à–µ 6 –º—ñ—Å—è—Ü—ñ–≤!');
    }
    
  } catch (error) {
    console.error('‚ùå –ü–æ–º–∏–ª–∫–∞ —Ç–µ—Å—Ç—É:', error.message);
  }
};

testBankPaymentOld();