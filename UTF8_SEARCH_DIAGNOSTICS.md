# Nova Poshta UTF-8 Search Diagnostics Report

## –ü—Ä–æ–±–ª–µ–º–∞
–£ production —Å–∏—Å—Ç–µ–º—ñ –ø–æ—à—É–∫ "—á–µ" –ø–æ–≤–µ—Ä—Ç–∞—î 162 –º—ñ—Å—Ç, —Ç–æ–¥—ñ —è–∫ —É development - 1,451 –º—ñ—Å—Ç.

## –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ Development
```json
{
  "totalCities": 10558,
  "totalWarehouses": 40443,
  "searchQuery": "—á–µ",
  "apiResults": 1451,
  "directSqlResults": "1451",
  "encoding": {
    "server_encoding": "UTF8",
    "client_encoding": "UTF8"
  },
  "environment": "development",
  "timestamp": "2025-06-14T19:34:33.709Z"
}
```

## –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è UTF-8
‚úÖ **–í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö:**
- –î–æ–¥–∞–Ω–æ `client_encoding: 'UTF8'` –≤ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—é pool
- –î–æ–¥–∞–Ω–æ –æ–±—Ä–æ–±–Ω–∏–∫ `pool.on('connect')` –¥–ª—è –≥–∞—Ä–∞–Ω—Ç—É–≤–∞–Ω–Ω—è UTF-8
- –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–æ–≤–∞–Ω–æ –∑–º—ñ–Ω–∏ –≤ `server/db.ts` —Ç–∞ `deployment-package/server/db.ts`

## –ü—Ä–∏—á–∏–Ω–∞ —Ä–æ–∑–±—ñ–∂–Ω–æ—Å—Ç—ñ
–†—ñ–∑–Ω–∏—Ü—è –º—ñ–∂ development (1,451) —Ç–∞ production (162) —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏ –≤–∫–∞–∑—É—î –Ω–∞:

1. **–ù–µ–ø–æ–≤–Ω—ñ –¥–∞–Ω—ñ –≤ production –±–∞–∑—ñ** - –º–µ–Ω—à–µ –∑–∞–≥–∞–ª—å–Ω–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ Nova Poshta
2. **–ó–∞—Å—Ç–∞—Ä—ñ–ª—É –≤–µ—Ä—Å—ñ—é –¥–∞–Ω–∏—Ö** - –º–æ–∂–ª–∏–≤–æ, —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –Ω–µ –≤—ñ–¥–±—É–ª–∞—Å—è –ø–æ–≤–Ω—ñ—Å—Ç—é
3. **–†—ñ–∑–Ω—ñ –≤–µ—Ä—Å—ñ—ó –±–∞–∑–∏ –¥–∞–Ω–∏—Ö** - development –º–∞—î —Å–≤—ñ–∂—ñ—à—ñ –¥–∞–Ω—ñ

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó –¥–ª—è production

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –¥–∞–Ω–∏—Ö
```bash
curl -s "http://your-production-url/api/nova-poshta/diagnostics?q=—á–µ"
```

### 2. –ü—Ä–∏–Ω—É–¥–æ–≤–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
–Ø–∫—â–æ –≤ production –º–µ–Ω—à–µ –¥–∞–Ω–∏—Ö, –ø–æ—Ç—Ä—ñ–±–Ω–æ:
- –í–∏–∫–æ–Ω–∞—Ç–∏ –ø–æ–≤–Ω—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é Nova Poshta
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–æ—Ü–µ—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ—Å—Ç—É–ø–Ω—ñ—Å—Ç—å Nova Poshta API –∑ production —Å–µ—Ä–≤–µ—Ä–∞

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
```sql
SELECT COUNT(*) FROM nova_poshta_cities;
SELECT COUNT(*) FROM nova_poshta_warehouses;
```

## Endpoint –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
–î–æ–¥–∞–Ω–æ `/api/nova-poshta/diagnostics` –¥–ª—è –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥—É:
- –ó–∞–≥–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –º—ñ—Å—Ç —ñ –≤—ñ–¥–¥—ñ–ª–µ–Ω—å
- –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –ø–æ—à—É–∫—É —á–µ—Ä–µ–∑ API —Ç–∞ SQL
- –°—Ç–∞—Ç—É—Å –∫–æ–¥—É–≤–∞–Ω–Ω—è UTF-8
- –Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Å–µ—Ä–µ–¥–æ–≤–∏—â–µ

## –°—Ç–∞—Ç—É—Å UTF-8
‚úÖ **Development:** –ü–æ–≤–Ω—ñ—Å—Ç—é —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π
üîç **Production:** –ü–æ—Ç—Ä–µ–±—É—î –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–∞–Ω–∏—Ö

## –ù–∞—Å—Ç—É–ø–Ω—ñ –∫—Ä–æ–∫–∏
1. –†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –≤ production
2. –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏—á–Ω–∏–π endpoint –≤ production
3. –ó–∞ –ø–æ—Ç—Ä–µ–±–∏ - –≤–∏–∫–æ–Ω–∞—Ç–∏ –ø–æ–≤–Ω—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—é Nova Poshta
4. –ù–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ —Ä–µ–≥—É–ª—è—Ä–Ω–∏–π –º–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥ –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –¥–∞–Ω–∏—Ö